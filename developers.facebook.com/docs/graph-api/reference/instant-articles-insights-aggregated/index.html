developers.facebook.com/docs/graph-api/reference/instant-articles-insights-aggregated/index.html

<div class="" id="u_0_1">
<div class="">
<div>
<div class="">
<div class="">
<div class="clearfix">
<span class="lfloat"><span><span class="">Graph API Version</span></span></span>
<div class="rfloat">
<span>
<div class="">
<div class="uiPopover" id="u_0_2">
<a role="button" class="" href="#" style="max-width:200px;" aria-haspopup="true" aria-expanded="false" rel="toggle" id="u_0_3"><span class="">v2.12</span><span class=""><i class="img"></i></span></a>
</div>
<input type="hidden" autocomplete="off" name="" id="u_0_4" />
</div>
</span>
</div>
</div>
</div>
</div>
</div>
<span data-click-area="main">
<div>
<div class="">
<div class="">
<div class="">
<h1>Insights Metrics of Aggregated Instant Articles</h1>
<p>This object represents the set of insights metrics aggregated across all Instant Articles that have been published by a Facebook Page. For more information on Instant Articles, read our <a href="/docs/instant-articles">Instant Articles Developer Documentation</a>.</p>
<div class="mvl">
<div class="">
<div class="">
<p>These insights include any sharing of the Instant Article within Facebook and are not limited to only posts from its Page.</p>
<p><strong>Data for these insights are only available since November 30, 2015.</strong></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="">
<div class="">
<div class="">
<h2 id="reading">Reading</h2>
<p>This endpoint is comprised of the page ID and the metric that is being looked up. All <a href="#availmetrics">available metrics are listed below</a>.</p>
<div class="">
<div class="" id="u_0_5">
<button value="1" class="selected" type="submit" id="u_0_6">HTTP</button><button value="1" class="selected" type="submit" id="u_0_7">PHP SDK</button><button value="1" class="selected" type="submit" id="u_0_8">JavaScript SDK</button><button value="1" class="selected" type="submit" id="u_0_9">Android SDK</button><button value="1" class="selected" type="submit" id="u_0_a">iOS SDK</button><a role="button" class="selected" href="/tools/explorer/145634995501895/?method=GET&amp;path=%7Bpage-id%7D%3Ffields%3Dinstant_articles_insights.metric%2528metric-name%2529&amp;version=v2.12" target="_blank">Graph API Explorer<i class="img"></i></a>
</div>
<div class="">
<pre class="prettyprint lang-regex" id="u_0_b"><code>GET /v2.12/&#123;page-id&#125;?fields=instant_articles_insights.metric(metric-name) HTTP/1.1
Host: graph.facebook.com</code></pre><pre class="prettyprint lang-cpp" id="u_0_c"><code>/* PHP SDK v5.0.0 */
/* make the API call */
try &#123;
  // Returns a `Facebook\FacebookResponse` object
  $response = $fb-&gt;get(
    &#039;/&#123;page-id&#125;?fields=instant_articles_insights.metric(metric-name)&#039;,
    &#039;&#123;access-token&#125;&#039;
  );
&#125; catch(Facebook\Exceptions\FacebookResponseException $e) &#123;
  echo &#039;Graph returned an error: &#039; . $e-&gt;getMessage();
  exit;
&#125; catch(Facebook\Exceptions\FacebookSDKException $e) &#123;
  echo &#039;Facebook SDK returned an error: &#039; . $e-&gt;getMessage();
  exit;
&#125;
$graphNode = $response-&gt;getGraphNode();
/* handle the result */</code></pre><pre class="prettyprint lang-js" id="u_0_d"><code>/* make the API call */
FB.api(
    &quot;/&#123;page-id&#125;?fields=instant_articles_insights.metric(metric-name)&quot;,
    function (response) &#123;
      if (response &amp;&amp; !response.error) &#123;
        /* handle the result */
      &#125;
    &#125;
);</code></pre><pre class="prettyprint lang-java" id="u_0_e"><code>/* make the API call */
new GraphRequest(
    AccessToken.getCurrentAccessToken(),
    &quot;/&#123;page-id&#125;?fields=instant_articles_insights.metric(metric-name)&quot;,
    null,
    HttpMethod.GET,
    new GraphRequest.Callback() &#123;
        public void onCompleted(GraphResponse response) &#123;
            /* handle the result */
        &#125;
    &#125;
).executeAsync();</code></pre><pre class="prettyprint lang-m" id="u_0_f"><code>// For more complex open graph stories, use `FBSDKShareAPI`
// with `FBSDKShareOpenGraphContent`
/* make the API call */
FBSDKGraphRequest *request = [[FBSDKGraphRequest alloc]
                               initWithGraphPath:&#064;&quot;/&#123;page-id&#125;?fields=instant_articles_insights.metric(metric-name)&quot;
                                      parameters:params
                                      HTTPMethod:&#064;&quot;GET&quot;];
[request startWithCompletionHandler:^(FBSDKGraphRequestConnection *connection,
                                      id result,
                                      NSError *error) &#123;
    // Handle the result
&#125;];</code></pre>
</div>
</div>
<h3 id="readpermissions">Permissions</h3>
<ul><li>A page access token with the <code>read_insights</code> <a href="/docs/facebook-login/permissions#reference-read_insights">permission</a> can retrieve metrics for that Page. For more information on page access tokens, refer to our <a href="/docs/pages/access-tokens">Page Access Tokens</a> documentation. </li>
</ul><h3 id="readparameters">Parameters</h3>
<div class="">
<table class=""><thead><tr><th>Name</th><th>Description</th><th>Type</th><th>Required</th></tr></thead><tbody class="" id="u_0_g"><tr class="row_0">
<td>
<p><code>id</code></p>
</td>
<td>
<p>Page ID.</p>
</td>
<td>
<p><code>string</code></p>
</td>
<td>
<p><code>yes</code></p>
</td>
</tr><tr class="row_1">
<td>
<p><code>metric</code></p>
</td>
<td>
<p>Metric being requested.</p>
</td>
<td>
<p>See <a href="#availmetrics">available metrics</a> below</p>
</td>
<td>
<p><code>yes</code></p>
</td>
</tr><tr class="row_2">
<td>
<p><code>period</code></p>
</td>
<td>
<p>Period of time over which the metric is aggregated.</p>
</td>
<td>
<p><code>enum&#123;day, week, days_28, month, lifetime&#125;</code></p>
</td>
<td>
<p><code>yes</code></p>
</td>
</tr><tr class="row_3">
<td>
<p><code>since</code></p>
</td>
<td>
<p>Lower bound of the time range to consider. Default value: <code>2 weeks ago</code></p>
</td>
<td>
<p><code>datetime</code></p>
</td>
<td>
<p><code>no</code></p>
</td>
</tr><tr class="row_4">
<td>
<p><code>until</code></p>
</td>
<td>
<p>Upper bound of the time range to consider. Default value: <code>Current time</code></p>
</td>
<td>
<p><code>datetime</code></p>
</td>
<td>
<p><code>no</code></p>
</td>
</tr><tr class="row_5">
<td>
<p><code>breakdown</code></p>
</td>
<td>
<p>Separate results by which platform (iOS or Android) that the metric occured on. If not specified, results include both platforms.</p>
</td>
<td>
<p><code>enum&#123;platform&#125;</code></p>
</td>
<td>
<p><code>no</code></p>
</td>
</tr></tbody></table>
</div>
<h3 id="readfields">Fields</h3>
<p>Reading from this edge will return a JSON formatted result:</p>
<pre class="prettyprint"><code>&#123;
  &quot;data&quot;: []
&#125;
</code></pre>
<p><strong><code>data</code></strong></p>
<p>A list of <a href="/docs/graph-api/reference/insights-query-result/">InsightsQueryResult</a> objects. The following fields will be added to each object that is returned:</p>
<div class="">
<table class=""><thead><tr><th>Name</th><th>Description</th><th>Type</th></tr></thead><tbody class="" id="u_0_h"><tr class="row_0">
<td>
<p>time</p>
</td>
<td>
<p>The start of the period, or the end time of lifetime period.</p>
</td>
<td>
<p><code>datetime</code></p>
</td>
</tr><tr class="row_1">
<td>
<p>value</p>
</td>
<td>
<p>The metric&#039;s count, average, ratio or percentage in the period.</p>
</td>
<td>
<p><code>numeric</code></p>
</td>
</tr><tr class="row_2">
<td>
<p>breakdowns</p>
</td>
<td>
<p>The bucket that the value belongs to (i.e. when the <code>all_view_durations</code> metric is used or if the <code>breakdown(platform)</code> parameter is explicitely specified).</p>
</td>
<td>
<p><code>map&lt;string, string&gt;</code></p>
</td>
</tr></tbody></table>
</div>
</div>
</div>
</div>
<div class="">
<div class="">
<div class="">
<h2 id="availmetrics">Available Metrics</h2>
<p>Below are the aggregation periods available for different metrics. Metrics are gathered from both iOS and Android devices.</p>
<div class="">
<table class=""><thead><tr><th>Name</th><th>Description</th><th>Value for period</th></tr></thead><tbody class="" id="u_0_i"><tr class="row_0">
<td>
<p><code>all_views</code></p>
</td>
<td>
<p>Number of views</p>
</td>
<td>
<p><code>day</code></p>
</td>
</tr><tr class="row_1">
<td>
<p><code>all_view_durations</code></p>
</td>
<td>
<p>Duration of view with breakdowns</p>
</td>
<td>
<p><code>week</code></p>
</td>
</tr><tr class="row_2">
<td>
<p><code>all_view_durations_average</code></p>
</td>
<td>
<p>Average duration of view</p>
</td>
<td>
<p><code>week</code></p>
</td>
</tr><tr class="row_3">
<td>
<p><code>all_scrolls</code></p>
</td>
<td>
<p>Scroll depth with breakdowns</p>
</td>
<td>
<p><code>week</code></p>
</td>
</tr><tr class="row_4">
<td>
<p><code>all_scrolls_average</code></p>
</td>
<td>
<p>Average scroll depth</p>
</td>
<td>
<p><code>week</code></p>
</td>
</tr></tbody></table>
</div>
</div>
</div>
</div>
<div class="">
<div class="">
<div class="">
<h2 id="examples">Examples</h2>
<h3 id="example1">Daily article views over the last 7 days</h3>
<p>To query daily breakdowns of the number of views of all of the Instant Articles from your Page over the past 7 days, issue the following <code>GET</code> request:</p>
<div>
<pre class="prettyprint lang-regex"><code>GET /v2.12/&#123;page-id&#125;?fields=instant_articles_insights.metric(all_views).period(day).since(7 day ago).until(now)&amp;access_token=&#123;your-page-access-token&#125; HTTP/1.1
Host: graph.facebook.com</code></pre>
</div>
<p>This request will return the following response:</p>
<pre class="prettyprint"><code>&#123;
   &quot;instant_articles_insights&quot;: &#123;
      &quot;data&quot;: [
        &#123;
          &quot;time&quot;: &quot;2015-11-30T08:00:00+0000&quot;,
          &quot;value&quot;: &quot;224067&quot;
        &#125;,
        &#123;
          &quot;time&quot;: &quot;2015-12-01T08:00:00+0000&quot;,
          &quot;value&quot;: &quot;467846&quot;
        &#125;,
        &#123;
          &quot;time&quot;: &quot;2015-12-02T08:00:00+0000&quot;,
          &quot;value&quot;: &quot;849467&quot;
        &#125;,
        &#123;
          &quot;time&quot;: &quot;2015-12-03T08:00:00+0000&quot;,
          &quot;value&quot;: &quot;188502&quot;
        &#125;,
        &#123;
          &quot;time&quot;: &quot;2015-12-04T08:00:00+0000&quot;,
          &quot;value&quot;: &quot;321942&quot;
        &#125;,
        &#123;
          &quot;time&quot;: &quot;2015-12-05T08:00:00+0000&quot;,
          &quot;value&quot;: &quot;622841&quot;
        &#125;,
        &#123;
          &quot;time&quot;: &quot;2015-12-06T08:00:00+0000&quot;,
          &quot;value&quot;: &quot;198124&quot;
        &#125;
      ]
   &#125;,
   &quot;id&quot;: &quot;&lt;page-id&gt;&quot;
&#125;
</code></pre>
<hr /><h3 id="example2">Daily article views over the last 7 days with platform breakdown</h3>
<p>To query daily breakdowns of the number of views of all of the Instant Articles from your Page over the past 7 days, further broken down by the platform it was viewed on, issue the following <code>GET</code> request:</p>
<div>
<pre class="prettyprint lang-regex"><code>GET /v2.12/&#123;page-id&#125;?fields=instant_articles_insights.metric(all_views).breakdown(platform).period(day).since(7 day ago).until(now)&amp;access_token=&#123;your-page-access-token&#125; HTTP/1.1
Host: graph.facebook.com</code></pre>
</div>
<p>This request will return the following response:</p>
<pre class="prettyprint"><code>&#123;
   &quot;instant_articles_insights&quot;: &#123;
      &quot;data&quot;: [
        &#123;
          &quot;time&quot;: &quot;2015-11-30T08:00:00+0000&quot;,
          &quot;value&quot;: &quot;112033&quot;,
          &quot;breakdowns&quot;: &#123;
            &quot;platform&quot;: &quot;ANDROID&quot;
          &#125;
        &#125;,
        &#123;
          &quot;time&quot;: &quot;2015-11-30T08:00:00+0000&quot;,
          &quot;value&quot;: &quot;112034&quot;,
          &quot;breakdowns&quot;: &#123;
            &quot;platform&quot;: &quot;IOS&quot;
          &#125;
        &#125;,
        &#123;
          &quot;time&quot;: &quot;2015-12-01T08:00:00+0000&quot;,
          &quot;value&quot;: &quot;233923&quot;,
          &quot;breakdowns&quot;: &#123;
            &quot;platform&quot;: &quot;ANDROID&quot;
          &#125;
        &#125;,
        &#123;
          &quot;time&quot;: &quot;2015-12-01T08:00:00+0000&quot;,
          &quot;value&quot;: &quot;233923&quot;,
          &quot;breakdowns&quot;: &#123;
            &quot;platform&quot;: &quot;IOS&quot;
          &#125;
        &#125;,
        &#123;
          &quot;time&quot;: &quot;2015-12-02T08:00:00+0000&quot;,
          &quot;value&quot;: &quot;424733&quot;,
          &quot;breakdowns&quot;: &#123;
            &quot;platform&quot;: &quot;ANDROID&quot;
          &#125;
        &#125;,
        &#123;
          &quot;time&quot;: &quot;2015-12-02T08:00:00+0000&quot;,
          &quot;value&quot;: &quot;424734&quot;,
          &quot;breakdowns&quot;: &#123;
            &quot;platform&quot;: &quot;IOS&quot;
          &#125;
        &#125;
      ]
   &#125;,
   &quot;id&quot;: &quot;&lt;page-id&gt;&quot;
&#125;
</code></pre>
<hr /><h3 id="example3">Weekly article scroll depths over the last 7 days</h3>
<p>To query weekly breakdowns of the bucketed scroll depths of all of the Instant Articles from your Page over the past 7 days, issue the following <code>GET</code> request:</p>
<div>
<pre class="prettyprint lang-regex"><code>GET /v2.12/&#123;page-id&#125;?fields=instant_articles_insights.metric(all_scrolls).period(week).since(7 day ago).until(now)&amp;access_token=&#123;your-page-access-token&#125; HTTP/1.1
Host: graph.facebook.com</code></pre>
</div>
<p>This request will return the following response. Note that the data returned in this response is bucketed. Visitors within the requested window are returned via value and scroll depth percentages via bucket:</p>
<pre class="prettyprint"><code>&#123;
   &quot;instant_articles_insights&quot;: &#123;
    &quot;data&quot;: [
      &#123;
        &quot;time&quot;: &quot;2015-11-26T08:00:00+0000&quot;,
        &quot;value&quot;: &quot;334606&quot;,
        &quot;breakdowns&quot;: &#123;
          &quot;bucket&quot;: &quot;100&quot;
        &#125;
      &#125;,
      &#123;
        &quot;time&quot;: &quot;2015-11-26T08:00:00+0000&quot;,
        &quot;value&quot;: &quot;27339&quot;,
        &quot;breakdowns&quot;: &#123;
          &quot;bucket&quot;: &quot;94&quot;
        &#125;
      &#125;,
      &#123;
        &quot;time&quot;: &quot;2015-11-26T08:00:00+0000&quot;,
        &quot;value&quot;: &quot;26746&quot;,
        &quot;breakdowns&quot;: &#123;
          &quot;bucket&quot;: &quot;95&quot;
        &#125;
      &#125;,
      &#123;
        &quot;time&quot;: &quot;2015-11-26T08:00:00+0000&quot;,
        &quot;value&quot;: &quot;26727&quot;,
        &quot;breakdowns&quot;: &#123;
          &quot;bucket&quot;: &quot;93&quot;
        &#125;
      &#125;,
      &#123;
        &quot;time&quot;: &quot;2015-11-26T08:00:00+0000&quot;,
        &quot;value&quot;: &quot;26512&quot;,
        &quot;breakdowns&quot;: &#123;
          &quot;bucket&quot;: &quot;96&quot;
        &#125;
      &#125;
     ]
   &#125;, 
   &quot;id&quot;: &quot;&lt;page-id&gt;&quot;
&#125;
</code></pre>
</div>
</div>
</div>
</div>
</span>
<div class="">
<div class="">
<fb:like href="https://developers.facebook.com/docs/graph-api/reference/instant-articles-insights-aggregated/" layout="button_count" share="1"></fb:like>
</div>
</div>
<div id="developer_documentation_toolbar" data-referrer="developer_documentation_toolbar" data-click-area="toolbar" data-referrer="developer_documentation_toolbar">
<div class="">
<div class="">
<div class="clearfix">
<div class="lfloat">
<div class="">
<ul class="" id="u_0_w"><li class=""><span>English (US)</span></li><li class="" data-click-area="language_selector_item"><a href="#" data-locale="zh_CN" data-click-value="zh_CN" role="button">中文(简体)</a></li><li class="" data-click-area="language_selector_item"><a href="#" data-locale="id_ID" data-click-value="id_ID" role="button">Bahasa Indonesia</a></li><li class="" data-click-area="language_selector_item"><a href="#" data-locale="ja_JP" data-click-value="ja_JP" role="button">日本語</a></li><li class="" data-click-area="language_selector_item"><a href="#" data-locale="th_TH" data-click-value="th_TH" role="button">ภาษาไทย</a></li><li class="" data-click-area="language_selector_item"><a href="#" data-locale="vi_VN" data-click-value="vi_VN" role="button">Tiếng Việt</a></li><li class="" data-click-area="language_selector_item"><a href="#" data-locale="ko_KR" data-click-value="ko_KR" role="button">한국어</a></li></ul><span class="">
<div class="uiPopover" id="u_0_x">
<a href="#" data-click-value="en_US" data-click-area="language_selector" class="" aria-haspopup="true" aria-expanded="false" rel="toggle" role="button" id="u_0_y"><span class=""></span></a>
</div>
</span>
</div>
</div>
</div>
</div>
</div>
</div>



