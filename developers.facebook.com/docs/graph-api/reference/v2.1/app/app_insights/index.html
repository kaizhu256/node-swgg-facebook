developers.facebook.com/docs/graph-api/reference/v2.1/app/app_insights/index.html

<div class="" id="u_0_1">
<div class="">
<div>
<div class="">
<div class="">
<div class="clearfix">
<span class="lfloat"><span><span class="">Graph API Version</span></span></span>
<div class="rfloat">
<span>
<div class="">
<div class="uiPopover" id="u_0_2">
<a role="button" class="" href="#" style="max-width:200px;" aria-haspopup="true" aria-expanded="false" rel="toggle" id="u_0_3"><span class="">v2.12</span><span class=""><i class="img sp_pl2PPmJ6VQG sx_07a50a"></i></span></a>
</div>
<input type="hidden" autocomplete="off" name="" id="u_0_4" />
</div>
</span>
</div>
</div>
</div>
</div>
</div>
<div data-click-area="main">
<div class="">
<div class="">
<h2 id="Overview">
<div>
<p>App Insights</p>
</div>
</h2>
<div>
<p>This edge represents a single Facebook Insights metric for a particular app. Each app has multiple available metrics to query, which are listed below in this doc.</p>
</div>
</div>
</div>
<div class="">
<div class="">
<h2 id="Reading">Reading</h2>
<div class="">
<p><p>Insights for this app</p></p>
<div class="">
<p>The endpoint used is determined by the metric that is being looked up. All <a href="#metrics">available metrics are listed below</a>.</p>
<h3>Permissions</h3>
<ul><li>Any valid access token can be used for publicly available metrics.</li>
<li>An app access token can retrieve all metrics for that app.</li>
<li>A user access token with <code>read_insights</code> <a href="/docs/authentication/permissions">permission</a> can retrieve metrics for all apps owned by this user.</li>
</ul><h3>Metric Name</h3>
<p>You must pass the name of a metric you&#039;re interested in via the last part of the path after <code>app_insights</code>.  Please see the full list of <a href="#metrics">metrics</a> below for what you can query.</p>
<p>For example:</p>
<div class="">
<div class="" id="u_0_5">
<button value="1" class="selected" type="submit" id="u_0_6">JavaScript SDK</button><button value="1" class="selected" type="submit" id="u_0_7">HTTP</button><button value="1" class="selected" type="submit" id="u_0_8">PHP SDK</button><button value="1" class="selected" type="submit" id="u_0_9">Android SDK</button><button value="1" class="selected" type="submit" id="u_0_a">iOS SDK</button>
</div>
<div class="">
<pre class="prettyprint lang-js" id="u_0_b"><code>/* make the API call */
FB.api(
    &quot;/&#123;app-id&#125;/app_insights/&#123;metric-name&#125;&quot;,
    &#123;
        &quot;period&quot;: &quot;monthly&quot;,
        &quot;breakdowns[0]&quot;: &quot;client&quot;
    &#125;,
    function (response) &#123;
      if (response &amp;&amp; !response.error) &#123;
        /* handle the result */
      &#125;
    &#125;
);</code></pre><pre class="prettyprint lang-regex" id="u_0_c"><code>GET /v2.12/&#123;app-id&#125;/app_insights/&#123;metric-name&#125;?period=monthly&amp;breakdowns%5B0%5D=client HTTP/1.1
Host: graph.facebook.com</code></pre><pre class="prettyprint lang-cpp" id="u_0_d"><code>/* PHP SDK v5.0.0 */
/* make the API call */
try &#123;
  // Returns a `Facebook\FacebookResponse` object
  $response = $fb-&gt;get(
    &#039;/&#123;app-id&#125;/app_insights/&#123;metric-name&#125;&#039;,
    &#039;&#123;access-token&#125;&#039;
  );
&#125; catch(Facebook\Exceptions\FacebookResponseException $e) &#123;
  echo &#039;Graph returned an error: &#039; . $e-&gt;getMessage();
  exit;
&#125; catch(Facebook\Exceptions\FacebookSDKException $e) &#123;
  echo &#039;Facebook SDK returned an error: &#039; . $e-&gt;getMessage();
  exit;
&#125;
$graphNode = $response-&gt;getGraphNode();
/* handle the result */</code></pre><pre class="prettyprint lang-java" id="u_0_e"><code>Bundle params = new Bundle();
params.putString(&quot;period&quot;, &quot;monthly&quot;);
params.putString(&quot;breakdowns[0]&quot;, &quot;client&quot;);
/* make the API call */
new GraphRequest(
    AccessToken.getCurrentAccessToken(),
    &quot;/&#123;app-id&#125;/app_insights/&#123;metric-name&#125;&quot;,
    params,
    HttpMethod.GET,
    new GraphRequest.Callback() &#123;
        public void onCompleted(GraphResponse response) &#123;
            /* handle the result */
        &#125;
    &#125;
).executeAsync();</code></pre><pre class="prettyprint lang-m" id="u_0_f"><code>// For more complex open graph stories, use `FBSDKShareAPI`
// with `FBSDKShareOpenGraphContent`
NSDictionary *params = &#064;&#123;
  &#064;&quot;period&quot;: &#064;&quot;monthly&quot;,
  &#064;&quot;breakdowns[0]&quot;: &#064;&quot;client&quot;,
&#125;;
/* make the API call */
FBSDKGraphRequest *request = [[FBSDKGraphRequest alloc]
                               initWithGraphPath:&#064;&quot;/&#123;app-id&#125;/app_insights/&#123;metric-name&#125;&quot;
                                      parameters:params
                                      HTTPMethod:&#064;&quot;GET&quot;];
[request startWithCompletionHandler:^(FBSDKGraphRequestConnection *connection,
                                      id result,
                                      NSError *error) &#123;
    // Handle the result
&#125;];</code></pre>
</div>
</div>
<h3>Parameters</h3>
<p>This edge can also take additional parameters to control what kinds of metrics you&#039;re interested in.</p>
<div class="">
<table class=""><thead><tr><th>Name</th><th>Description</th><th>Type</th></tr></thead><tbody class="" id="u_0_g"><tr class="row_0">
<td>
<p><code>aggregateBy</code></p>
</td>
<td>
<p>How to aggregate the data, values include:</p>
<ul><li><code>COUNT</code> - count of events</li>
<li><code>USERS</code> - unique users (only available for some metrics)</li>
<li><code>TOPK</code> - highest count combinations of breakdowns</li>
</ul><p>These values are unique to app events:</p>
<ul><li><code>SUM</code> - sum of a metric with a value, such as payments</li>
<li><code>USD_SUM</code> - sum of a metric with a currency value converted to USD</li>
<li><code>UNKNOWN_USERS</code> - unique non-Facebook-connected users</li>
</ul>
</td>
<td>
<p><code>enum&#123;COUNT, USERS, TOPK, SUM, USD_SUM, UNKNOWN_USERS&#125;</code></p>
</td>
</tr><tr class="row_1">
<td>
<p><code>breakdowns[n]</code></p>
</td>
<td>
<p>Breaks down this metric by different values. Each breakdown should be supplied as an array key as shown in the example below. A full list of breakdowns is <a href="#breakdowns">shown below</a></p>
</td>
<td>
<p><code>enum&#123;client, auth_state&#125;</code></p>
</td>
</tr><tr class="row_2">
<td>
<p><code>event_name</code></p>
</td>
<td>
<p>Required if you select app_event as your metric name: the name of the app event to query.</p>
</td>
<td>
<p><code>string</code></p>
</td>
</tr><tr class="row_3">
<td>
<p><code>period</code></p>
</td>
<td>
<p>Change the period (from now) over which the metric has been collected. Valid values for each metric are listed below. <code>range</code> is a sum over a date range specified by <code>since</code> and <code>until</code>.</p>
</td>
<td>
<p><code>enum&#123;daily, days_28, hourly, monthly, weekly, lifetime, range&#125;</code></p>
</td>
</tr><tr class="row_4">
<td>
<p><code>since</code></p>
</td>
<td>
<p>A start point for a specified date range.</p>
</td>
<td>
<p><code>datetime</code></p>
</td>
</tr><tr class="row_5">
<td>
<p><code>until</code></p>
</td>
<td>
<p>An end point for a specified date range.</p>
</td>
<td>
<p><code>datetime</code></p>
</td>
</tr><tr class="row_6">
<td>
<p><code>intervals_to_aggregate</code></p>
</td>
<td>
<p>The number of time intervals aggregated per data point returned.</p>
</td>
<td>
<p><code>enum&#123;0, 1, 7, 28&#125;</code></p>
</td>
</tr></tbody></table>
</div>
<h3 id="metrics">Available Metrics</h3>
<div class="">
<table class=""><thead><tr><th>Name</th><th>Description</th><th>Values for period</th></tr></thead><tbody class="" id="u_0_h"><tr class="row_0">
<td>
<p><code>api_avg_request_time</code></p>
</td>
<td>
<p>Average time for API requests from your app in milliseconds</p>
</td>
<td>
<p><code>count, daily, range</code></p>
</td>
</tr><tr class="row_1">
<td>
<p><code>api_calls</code></p>
</td>
<td>
<p>Total API calls from your app</p>
</td>
<td>
<p><code>count, daily, range</code></p>
</td>
</tr><tr class="row_2">
<td>
<p><code>api_error_rate_by_method</code></p>
</td>
<td>
<p>Sampled average number of errors per API request from your app</p>
</td>
<td>
<p><code>count, daily</code></p>
</td>
</tr><tr class="row_3">
<td>
<p><code>api_errors</code></p>
</td>
<td>
<p>Total API errors from your app</p>
</td>
<td>
<p><code>count, daily, range</code></p>
</td>
</tr><tr class="row_4">
<td>
<p><code>api_errors_by_method</code></p>
</td>
<td>
<p>Sampled API errors from your app</p>
</td>
<td>
<p><code>count, daily</code></p>
</td>
</tr><tr class="row_5">
<td>
<p><code>app_blocks</code></p>
</td>
<td>
<p>Blocks of your app</p>
</td>
<td>
<p><code>count, daily, range</code></p>
</td>
</tr><tr class="row_6">
<td>
<p><code>app_center_initial_permission_grants</code></p>
</td>
<td>
<p>App Center Accepts</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_7">
<td>
<p><code>app_center_initial_permission_requests</code></p>
</td>
<td>
<p>App Center Impressons</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_8">
<td>
<p><code>app_event</code></p>
</td>
<td>
<p>Custom Events logged for your app - <strong>requires event_name be specified</strong></p>
</td>
<td>
<p><code>count, daily, range</code></p>
</td>
</tr><tr class="row_9">
<td>
<p><code>app_notification_clicks</code></p>
</td>
<td>
<p>Clicks on notifications sent by App to User</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_10">
<td>
<p><code>app_notification_hide_rate</code></p>
</td>
<td>
<p>App To User notifications hidden per 10k impressions</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_11">
<td>
<p><code>app_notification_hides</code></p>
</td>
<td>
<p>Hides on notifications sent by App to User</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_12">
<td>
<p><code>app_notification_impressions</code></p>
</td>
<td>
<p>Impressions for notifications sent by App to User</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_13">
<td>
<p><code>app_notification_sends</code></p>
</td>
<td>
<p>App to User Notifications Published</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_14">
<td>
<p><code>app_notification_spam_rate</code></p>
</td>
<td>
<p>App To User notifications marked as spam per 10k impressions</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_15">
<td>
<p><code>app_notification_spam_reports</code></p>
</td>
<td>
<p>Spam reports on notifications sent by App to User</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_16">
<td>
<p><code>app_notification_total_accepts</code></p>
</td>
<td>
<p>App to User Notification Total Accepts explicit and implicit</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_17">
<td>
<p><code>app_notification_unhides</code></p>
</td>
<td>
<p>Unhides of previously hidden App To User notifications</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_18">
<td>
<p><code>facebook_features_monthly_active_users</code></p>
</td>
<td>
<p>daily counts of users who have engaged with your app or viewed your app during past 30 days</p>
</td>
<td>
<p><code>daily</code></p>
</td>
</tr><tr class="row_19">
<td>
<p><code>facebook_features_weekly_active_users</code></p>
</td>
<td>
<p>daily counts of users who have engaged with your app or viewed your app during past 7 days</p>
</td>
<td>
<p><code>daily</code></p>
</td>
</tr><tr class="row_20">
<td>
<p><code>facebook_features_daily_active_users</code></p>
</td>
<td>
<p>daily counts of users who have engaged with your app or viewed your app</p>
</td>
<td>
<p><code>daily</code></p>
</td>
</tr><tr class="row_21">
<td>
<p><code>initial_permission_grants</code></p>
</td>
<td>
<p>Total accepts from all sources</p>
</td>
<td>
<p><code>count, daily, range</code></p>
</td>
</tr><tr class="row_22">
<td>
<p><code>login_dialog_additional_permission_grants</code></p>
</td>
<td>
<p>Login Dialog Accepts</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_23">
<td>
<p><code>login_dialog_additional_permission_requests</code></p>
</td>
<td>
<p>Login Dialog Impressions</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_24">
<td>
<p><code>login_dialog_initial_permission_grants</code></p>
</td>
<td>
<p>Login Dialog Accepts</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_25">
<td>
<p><code>login_dialog_initial_permission_requests</code></p>
</td>
<td>
<p>Login Dialog Impressions</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_26">
<td>
<p><code>login_dialog_publish_permission_grants</code></p>
</td>
<td>
<p>Publish Permission Request Grants</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_27">
<td>
<p><code>login_dialog_publish_permission_requests</code></p>
</td>
<td>
<p>Publish Permission Request Impressions</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_28">
<td>
<p><code>mobile_referral_installs</code></p>
</td>
<td>
<p>New mobile referral installations of your app. Follows first use of your application on a mobile device.</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_29">
<td>
<p><code>mobile_referrals</code></p>
</td>
<td>
<p>App Launches from Facebook on Mobile</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_30">
<td>
<p><code>payments_daily_chargebacks</code></p>
</td>
<td>
<p>Chargeback amount</p>
</td>
<td>
<p><code>count, daily, range</code></p>
</td>
</tr><tr class="row_31">
<td>
<p><code>payments_daily_refunds</code></p>
</td>
<td>
<p>Refund amount</p>
</td>
<td>
<p><code>count, daily, range</code></p>
</td>
</tr><tr class="row_32">
<td>
<p><code>payments_daily_spend</code></p>
</td>
<td>
<p>Spend amount</p>
</td>
<td>
<p><code>count, daily, range</code></p>
</td>
</tr><tr class="row_33">
<td>
<p><code>permission_revocations</code></p>
</td>
<td>
<p>Users removed premissions for your app or connections to your Connect site.</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_34">
<td>
<p><code>request_accepts</code></p>
</td>
<td>
<p>Number of requests from your app accepted by your users&#039; friends</p>
</td>
<td>
<p><code>count, daily, range</code></p>
</td>
</tr><tr class="row_35">
<td>
<p><code>request_blocks</code></p>
</td>
<td>
<p>Blocked Requests from App</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_36">
<td>
<p><code>request_impressions</code></p>
</td>
<td>
<p>Number of times a user has seen a request from your app</p>
</td>
<td>
<p><code>count, daily, range</code></p>
</td>
</tr><tr class="row_37">
<td>
<p><code>request_sends</code></p>
</td>
<td>
<p>Number of requests from your app sent by your users to their friends</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_38">
<td>
<p><code>request_spam_rate</code></p>
</td>
<td>
<p>User To User notifications marked as spam per 10k impressions</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_39">
<td>
<p><code>story_clicks</code></p>
</td>
<td>
<p>The number of clicks on an Open Graph Story from a selected Action.</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_40">
<td>
<p><code>story_comments</code></p>
</td>
<td>
<p>The number of comments on an Open Graph Story from a selected Action.</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_41">
<td>
<p><code>story_impressions</code></p>
</td>
<td>
<p>The number of impressions of an Open Graph Story from a selected Action.</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_42">
<td>
<p><code>story_likes</code></p>
</td>
<td>
<p>The number of likes on an Open Graph Story from a selected Action.</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_43">
<td>
<p><code>story_publishes</code></p>
</td>
<td>
<p>The number of Open Graph Actions created by this application.</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_44">
<td>
<p><code>story_spam_rate</code></p>
</td>
<td>
<p>Story spam reports per 10000 impressions of an Open Graph story</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr><tr class="row_45">
<td>
<p><code>structured_request_accepts</code></p>
</td>
<td>
<p>Number of requests from your app accepted by your users&#039; friends</p>
</td>
<td>
<p><code>count, daily, range</code></p>
</td>
</tr><tr class="row_46">
<td>
<p><code>structured_request_impressions</code></p>
</td>
<td>
<p>Number of times a user has seen a request from your app</p>
</td>
<td>
<p><code>count, daily, range</code></p>
</td>
</tr><tr class="row_47">
<td>
<p><code>structured_request_sends</code></p>
</td>
<td>
<p>Number of requests from your app sent by your users to their friends</p>
</td>
<td>
<p><code>count, daily, range</code></p>
</td>
</tr><tr class="row_48">
<td>
<p><code>total_referrals</code></p>
</td>
<td>
<p>App Launches from Facebook</p>
</td>
<td>
<p><code>count, daily, hourly, range</code></p>
</td>
</tr></tbody></table>
</div>
<h4 id="breakdowns">Available Breakdowns</h4>
<p>All breakdowns are shown below, though not every breakdown will be available for each metric.</p>
<p><strong>Note</strong>: You cannot use multiple custom breakdowns, however you can retrieve the same data by using our <a href="https://www.facebook.com/analytics">Analytics site</a>.</p>
<div class="">
<table class=""><thead><tr><th>Breakdown Type</th><th>Description</th></tr></thead><tbody class="" id="u_0_i"><tr class="row_0">
<td>
<p><code>age</code></p>
</td>
<td>
<p>Actor age range (gender and age should be used together)</p>
</td>
</tr><tr class="row_1">
<td>
<p><code>gender</code></p>
</td>
<td>
<p>The gender of the actor. (gender and age should be used together)</p>
</td>
</tr><tr class="row_2">
<td>
<p><code>identity_source</code></p>
</td>
<td>
<p>How has user the connected to your application?, <code>0</code> has not connected, <code>1</code> is Facebook Login.</p>
</td>
</tr><tr class="row_3">
<td>
<p><code>client</code></p>
</td>
<td>
<p>Device type on which the events occurred</p>
</td>
</tr><tr class="row_4">
<td>
<p><code>country</code></p>
</td>
<td>
<p>The country code of the actor. If the country code is <code>u</code>, then the country of the actor is unknown.</p>
</td>
</tr><tr class="row_5">
<td>
<p><code>locale</code></p>
</td>
<td>
<p>Actor&#039;s locale</p>
</td>
</tr><tr class="row_6">
<td>
<p><code>action_type</code></p>
</td>
<td>
<p>Open Graph action type identifier</p>
</td>
</tr><tr class="row_7">
<td>
<p><code>destination</code></p>
</td>
<td>
<p>The destination of a click event</p>
</td>
</tr><tr class="row_8">
<td>
<p><code>object_type</code></p>
</td>
<td>
<p>Open Graph Object type</p>
</td>
</tr><tr class="row_9">
<td>
<p><code>sponsored</code></p>
</td>
<td>
<p>Indicates whether the event resulted from any type of Facebook ad</p>
</td>
</tr><tr class="row_10">
<td>
<p><code>acquisition_source</code></p>
</td>
<td>
<p>Indicates whether an app install was acquired from a Facebook ad, Instagram ad, Audience Network, Facebook organic, or other</p>
</td>
</tr><tr class="row_11">
<td>
<p><code>acquisition_source_l1</code></p>
</td>
<td>
<p>campaign ID that drove the install. Only use with aggregateBy=COUNT</p>
</td>
</tr><tr class="row_12">
<td>
<p><code>acquisition_source_l2</code></p>
</td>
<td>
<p>ad set ID that drove the install. Only use with aggregateBy=COUNT</p>
</td>
</tr><tr class="row_13">
<td>
<p><code>acquisition_source_l3</code></p>
</td>
<td>
<p>ad ID that drove the install. Only use with aggregateBy=COUNT</p>
</td>
</tr><tr class="row_14">
<td>
<p><code>ref</code></p>
</td>
<td>
<p>Developer specified ref parameter. Up to 100 will be returned for any given day</p>
</td>
</tr><tr class="row_15">
<td>
<p><code>label_cohort</code></p>
</td>
<td>
<p>A label which is assigned automatically at first login (e.g. by source: Ad Set ID, Organic Stories, App Center, etc.), but can also be set via the <code>ref</code> parameter in the Login Dialog or the <a href="/docs/graph-api/reference/user"><code>user</code></a> node.</p>
</td>
</tr><tr class="row_16">
<td>
<p><code>app_event_parameter1</code></p>
</td>
<td>
<p>Developer specified parameter</p>
</td>
</tr><tr class="row_17">
<td>
<p><code>app_event_parameter2</code></p>
</td>
<td>
<p>Developer specified parameter</p>
</td>
</tr><tr class="row_18">
<td>
<p><code>app_event_parameter3</code></p>
</td>
<td>
<p>Developer specified parameter</p>
</td>
</tr><tr class="row_19">
<td>
<p><code>app_event_parameter4</code></p>
</td>
<td>
<p>Developer specified parameter</p>
</td>
</tr><tr class="row_20">
<td>
<p><code>app_event_parameter5</code></p>
</td>
<td>
<p>Developer specified parameter</p>
</td>
</tr><tr class="row_21">
<td>
<p><code>app_event_parameter6</code></p>
</td>
<td>
<p>Developer specified parameter</p>
</td>
</tr><tr class="row_22">
<td>
<p><code>app_event_parameter7</code></p>
</td>
<td>
<p>Developer specified parameter</p>
</td>
</tr><tr class="row_23">
<td>
<p><code>app_event_parameter8</code></p>
</td>
<td>
<p>Developer specified parameter</p>
</td>
</tr><tr class="row_24">
<td>
<p><code>app_event_parameter9</code></p>
</td>
<td>
<p>Developer specified parameter</p>
</td>
</tr><tr class="row_25">
<td>
<p><code>app_event_parameter10</code></p>
</td>
<td>
<p>Developer specified parameter</p>
</td>
</tr><tr class="row_26">
<td>
<p><code>short_version_code</code></p>
</td>
<td>
<p>Bundled version ID of the app (not necessarily unique)</p>
</td>
</tr><tr class="row_27">
<td>
<p><code>ui_element</code></p>
</td>
<td>
<p>Class name of the UI element on top when the event is logged</p>
</td>
</tr><tr class="row_28">
<td>
<p><code>sdk_version</code></p>
</td>
<td>
<p>The version of the Facebook SDK used to log the event</p>
</td>
</tr><tr class="row_29">
<td>
<p><code>device_model</code></p>
</td>
<td>
<p>The model of the device on which the events occurred</p>
</td>
</tr><tr class="row_30">
<td>
<p><code>device_os</code></p>
</td>
<td>
<p>The operating system of the device on which the events occurred</p>
</td>
</tr><tr class="row_31">
<td>
<p><code>app_name</code></p>
</td>
<td>
<p>Bundled name of the app</p>
</td>
</tr><tr class="row_32">
<td>
<p><code>app_version</code></p>
</td>
<td>
<p>Bundled version ID of the app (unique across all versions)</p>
</td>
</tr></tbody></table>
</div>
</div>
<div>
<h3>Example</h3>
<div class="">
<div class="" id="u_0_j">
<button value="1" class="selected" type="submit" id="u_0_k">HTTP</button><button value="1" class="selected" type="submit" id="u_0_l">PHP SDK</button><button value="1" class="selected" type="submit" id="u_0_m">JavaScript SDK</button><button value="1" class="selected" type="submit" id="u_0_n">Android SDK</button><button value="1" class="selected" type="submit" id="u_0_o">iOS SDK</button><a role="button" class="selected" href="/tools/explorer/145634995501895/?method=GET&amp;path=%7Bapplication-id%7D%2Fapp_insights&amp;version=v2.12" target="_blank">Graph API Explorer<i class="img sp_bjswmc sx_5c6c6b"></i></a>
</div>
<div class="">
<pre class="prettyprint lang-regex" id="u_0_p"><code>GET /v2.12/&#123;application-id&#125;/app_insights HTTP/1.1
Host: graph.facebook.com</code></pre><pre class="prettyprint lang-cpp" id="u_0_q"><code>/* PHP SDK v5.0.0 */
/* make the API call */
try &#123;
  // Returns a `Facebook\FacebookResponse` object
  $response = $fb-&gt;get(
    &#039;/&#123;application-id&#125;/app_insights&#039;,
    &#039;&#123;access-token&#125;&#039;
  );
&#125; catch(Facebook\Exceptions\FacebookResponseException $e) &#123;
  echo &#039;Graph returned an error: &#039; . $e-&gt;getMessage();
  exit;
&#125; catch(Facebook\Exceptions\FacebookSDKException $e) &#123;
  echo &#039;Facebook SDK returned an error: &#039; . $e-&gt;getMessage();
  exit;
&#125;
$graphNode = $response-&gt;getGraphNode();
/* handle the result */</code></pre><pre class="prettyprint lang-js" id="u_0_r"><code>/* make the API call */
FB.api(
    &quot;/&#123;application-id&#125;/app_insights&quot;,
    function (response) &#123;
      if (response &amp;&amp; !response.error) &#123;
        /* handle the result */
      &#125;
    &#125;
);</code></pre><pre class="prettyprint lang-java" id="u_0_s"><code>/* make the API call */
new GraphRequest(
    AccessToken.getCurrentAccessToken(),
    &quot;/&#123;application-id&#125;/app_insights&quot;,
    null,
    HttpMethod.GET,
    new GraphRequest.Callback() &#123;
        public void onCompleted(GraphResponse response) &#123;
            /* handle the result */
        &#125;
    &#125;
).executeAsync();</code></pre><pre class="prettyprint lang-m" id="u_0_t"><code>// For more complex open graph stories, use `FBSDKShareAPI`
// with `FBSDKShareOpenGraphContent`
/* make the API call */
FBSDKGraphRequest *request = [[FBSDKGraphRequest alloc]
                               initWithGraphPath:&#064;&quot;/&#123;application-id&#125;/app_insights&quot;
                                      parameters:params
                                      HTTPMethod:&#064;&quot;GET&quot;];
[request startWithCompletionHandler:^(FBSDKGraphRequestConnection *connection,
                                      id result,
                                      NSError *error) &#123;
    // Handle the result
&#125;];</code></pre>
</div>
</div>
If you want to learn how to use the Graph API, read our <a href="/docs/graph-api/using-graph-api/">Using Graph API guide</a>.
</div>
<h3>Parameters</h3>
<div class="">
<table class=""><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody class="" id="u_0_u"><tr class="row_0">
<td>
<span><code>aggregateBy</code></span>
<div class="">
enum &#123;COUNT, COUNT_IDENTIFIED_USERS, USERS, TOPK, SUM, SUM_IDENTIFIED_USERS, USD_SUM, USD_SUM_IDENTIFIED_USERS, USD_SUM_PER_USER, CURRENCY_SUM, CURRENCY_SUM_IDENTIFIED_USERS, CURRENCY_SUM_PER_USER, UNKNOWN_USERS, SCORE, MEDIAN_VALUE, MEDIAN_VALUE_PER_USER, DAU, WAU, MAU, PERCENTILES_COUNT, PERCENTILES_VALUE, PERCENTILES_USD_VALUE, PERCENTILES_CURRENCY_VALUE, OVERLAP, COUNT_PER_USER, VALUE_PER_USER, USD_VALUE_PER_USER, CURRENCY_VALUE_PER_USER&#125;
</div>
</td>
<td>
<p>Which aggregation method to use.</p>
</td>
</tr><tr class="row_1">
<td>
<span><code>breakdowns</code></span>
<div class="">
list&lt;string&gt;
</div>
</td>
<td>
<div>
Default value: <code>Array</code>
</div>
<p>breakdowns</p>
</td>
</tr><tr class="row_2">
<td>
<span><code>ecosystem</code></span>
<div class="">
enum &#123;GAME, NON_GAME&#125;
</div>
</td>
<td>
<p>Is this for ecosystem data.</p>
</td>
</tr><tr class="row_3">
<td>
<span><code>event_name</code></span>
<div class="">
string
</div>
</td>
<td>
<p>The custom event to query if specified.</p>
</td>
</tr><tr class="row_4">
<td>
<span><code>intervals_to_aggregate</code></span>
<div class="">
integer
</div>
</td>
<td>
<p>How many interval periods to aggregate.</p>
</td>
</tr><tr class="row_5">
<td>
<span><code>metric_key</code></span>
<div class="">
string
</div>
</td>
<td>
<p>metric key</p>
<div class="">
<span class="">Required</span>
</div>
</td>
</tr><tr class="row_6">
<td>
<span><code>period</code></span>
<div class="">
enum&#123;mins_15, hourly, daily, weekly, monthly, lifetime, days_28, range&#125;
</div>
</td>
<td>
<p>period</p>
</td>
</tr><tr class="row_7">
<td>
<span><code>since</code></span>
<div class="">
datetime
</div>
</td>
<td>
<p>since</p>
</td>
</tr><tr class="row_8">
<td>
<span><code>source</code></span>
<div class="">
RegexParam
</div>
</td>
<td>
<p>Query source in the form of channel/section/tag, e.g.
           &quot;app/overview/active_users&quot;. Used for logging and calculating
            query priority. Available channels are www, app, email, script</p>
</td>
</tr><tr class="row_9">
<td>
<span><code>until</code></span>
<div class="">
datetime
</div>
</td>
<td>
<p>until</p>
</td>
</tr></tbody></table>
</div>
<h3>Fields</h3><p>Reading from this edge will return a JSON formatted result:</p><pre class=""><p>&#123;
    &quot;<code>data</code>&quot;: [],
    &quot;<code>paging</code>&quot;: &#123;&#125;,
    &quot;<code>summary</code>&quot;: &#123;&#125;
&#125;</p></pre><p><h4><code>data</code></h4>A list of <a target="_blank" href="/docs/graph-api/reference/insights-query-result/">InsightsQueryResult</a> nodes.</p><p><h4><code>paging</code></h4>For more details about pagination, see the <a href="/docs/graph-api/using-graph-api/#paging">Graph API guide</a>.</p><p><h4><code>summary</code></h4><p>Aggregated information about the edge, such as counts. Specify the fields to fetch in the summary param (like <code>summary=name</code>).</p>
<div class="">
<table class=""><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr>
<td>
<div>
<p class=""><span><code>name</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>Name of the metric of the returned data set</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>period</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>Time duration of one data point in returned data set</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>since</code></span></p>
</div>
<div class="">
<span>datetime</span>
</div>
</td>
<td>
<p class="">
<div>
<p>The start time of the returned data set</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>until</code></span></p>
</div>
<div class="">
<span>datetime</span>
</div>
</td>
<td>
<p class="">
<div>
<p>The end time of the returned data set</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>messages</code></span></p>
</div>
<div class="">
<span>list&lt;string&gt;</span>
</div>
</td>
<td>
<p class="">
<div>
<p>Information about the returned data</p>
</div>
</p>
</td>
</tr></tbody></table>
</div>
</p>
</div>
<h3>Validation Rules</h3>
<div class="">
<table class=""><thead><tr><th>Error</th><th>Description</th></tr></thead><tbody><tr>
<td>
3000
</td>
<td>
Reading Insights of a Page/App/Domain/Event Source Group not owned by the querying user or application
</td>
</tr><tr>
<td>
100
</td>
<td>
Invalid parameter
</td>
</tr><tr>
<td>
3003
</td>
<td>
Metric requires app admin privileges
</td>
</tr><tr>
<td>
3001
</td>
<td>
Invalid query
</td>
</tr><tr>
<td>
3010
</td>
<td>
Invalid breakdown
</td>
</tr></tbody></table>
</div>
</div>
</div>
<div class="">
<div class="">
<h2 id="Creating">Creating</h2>You can&#039;t perform this operation on this endpoint.
</div>
</div>
<div class="">
<div class="">
<h2 id="Updating">Updating</h2>You can&#039;t perform this operation on this endpoint.
</div>
</div>
<div class="">
<div class="">
<h2 id="Deleting">Deleting</h2>You can&#039;t perform this operation on this endpoint.
</div>
</div>
</div>



