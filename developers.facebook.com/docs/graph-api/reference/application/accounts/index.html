developers.facebook.com/docs/graph-api/reference/application/accounts/index.html

<div class="" id="u_0_1">
<div class="">
<div>
<div class="">
<div class="">
<div class="clearfix">
<span class="lfloat"><span><span class="">Graph API Version</span></span></span>
<div class="rfloat">
<span>
<div class="">
<div class="uiPopover" id="u_0_2">
<a role="button" class="" href="#" style="max-width:200px;" aria-haspopup="true" aria-expanded="false" rel="toggle" id="u_0_3"><span class="">v2.12</span><span class=""><i class="img"></i></span></a>
</div>
<input type="hidden" autocomplete="off" name="" id="u_0_4" />
</div>
</span>
</div>
</div>
</div>
</div>
</div>
<div data-click-area="main">
<div class="">
<div class="">
<h2 id="Overview">
<div>
<p>Application Accounts</p>
</div>
</h2>
<div>
<p>Test accounts for a Facebook app.  This edge lets you manage test users for your app.</p>
<h3>Related guides</h3>
<ul><li><a href="/docs/apps/test-users#managetool">Managing Test Accounts using the App Dashboard</a></li>
</ul><h3>A Note on Updating</h3>
<p>You can&#039;t update a test user using this edge, however you can <a href="/docs/graph-api/reference/test-user/">update a test user using the <code>/&#123;test-user-id&#125;</code> node</a>.</p>
</div>
</div>
</div>
<div class="">
<div class="">
<h2 id="Reading">Reading</h2>
<div class="">
<p><p>Test accounts for this app</p></p>
<div>
<h3>Permissions</h3>
<ul><li>An app access token for the app in the request is required.</li>
</ul>
</div>
<div>
<h3>Example</h3>
<div class="">
<div class="" id="u_0_5">
<button value="1" class="selected" type="submit" id="u_0_6">HTTP</button><button value="1" class="selected" type="submit" id="u_0_7">PHP SDK</button><button value="1" class="selected" type="submit" id="u_0_8">JavaScript SDK</button><button value="1" class="selected" type="submit" id="u_0_9">Android SDK</button><button value="1" class="selected" type="submit" id="u_0_a">iOS SDK</button><a role="button" class="selected" href="/tools/explorer/145634995501895/?method=GET&amp;path=%7Bapplication-id%7D%2Faccounts&amp;version=v2.12" target="_blank">Graph API Explorer<i class="img"></i></a>
</div>
<div class="">
<pre class="prettyprint lang-regex" id="u_0_b"><code>GET /v2.12/&#123;application-id&#125;/accounts HTTP/1.1
Host: graph.facebook.com</code></pre><pre class="prettyprint lang-cpp" id="u_0_c"><code>/* PHP SDK v5.0.0 */
/* make the API call */
try &#123;
  // Returns a `Facebook\FacebookResponse` object
  $response = $fb-&gt;get(
    &#039;/&#123;application-id&#125;/accounts&#039;,
    &#039;&#123;access-token&#125;&#039;
  );
&#125; catch(Facebook\Exceptions\FacebookResponseException $e) &#123;
  echo &#039;Graph returned an error: &#039; . $e-&gt;getMessage();
  exit;
&#125; catch(Facebook\Exceptions\FacebookSDKException $e) &#123;
  echo &#039;Facebook SDK returned an error: &#039; . $e-&gt;getMessage();
  exit;
&#125;
$graphNode = $response-&gt;getGraphNode();
/* handle the result */</code></pre><pre class="prettyprint lang-js" id="u_0_d"><code>/* make the API call */
FB.api(
    &quot;/&#123;application-id&#125;/accounts&quot;,
    function (response) &#123;
      if (response &amp;&amp; !response.error) &#123;
        /* handle the result */
      &#125;
    &#125;
);</code></pre><pre class="prettyprint lang-java" id="u_0_e"><code>/* make the API call */
new GraphRequest(
    AccessToken.getCurrentAccessToken(),
    &quot;/&#123;application-id&#125;/accounts&quot;,
    null,
    HttpMethod.GET,
    new GraphRequest.Callback() &#123;
        public void onCompleted(GraphResponse response) &#123;
            /* handle the result */
        &#125;
    &#125;
).executeAsync();</code></pre><pre class="prettyprint lang-m" id="u_0_f"><code>// For more complex open graph stories, use `FBSDKShareAPI`
// with `FBSDKShareOpenGraphContent`
/* make the API call */
FBSDKGraphRequest *request = [[FBSDKGraphRequest alloc]
                               initWithGraphPath:&#064;&quot;/&#123;application-id&#125;/accounts&quot;
                                      parameters:params
                                      HTTPMethod:&#064;&quot;GET&quot;];
[request startWithCompletionHandler:^(FBSDKGraphRequestConnection *connection,
                                      id result,
                                      NSError *error) &#123;
    // Handle the result
&#125;];</code></pre>
</div>
</div>
If you want to learn how to use the Graph API, read our <a href="/docs/graph-api/using-graph-api/">Using Graph API guide</a>.
</div>
<h3>Parameters</h3>
<div class="">
<table class=""><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody class="" id="u_0_g"><tr class="row_0">
<td>
<span><code>type</code></span>
<div class="">
enum&#123;test-users&#125;
</div>
</td>
<td>
<p>The type of user requested</p>
</td>
</tr></tbody></table>
</div>
<h3>Fields</h3><p>Reading from this edge will return a JSON formatted result:</p><pre class=""><p>&#123;
    &quot;<code>data</code>&quot;: [],
    &quot;<code>paging</code>&quot;: &#123;&#125;
&#125;</p></pre><p><h4><code>data</code></h4>A list of <a target="_blank" href="/docs/graph-api/reference/test-account/">TestAccount</a> nodes.<p>The following fields will be added to each node that is returned:</p>
<div class="">
<table class=""><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr>
<td>
<div>
<p class=""><span><code>access_token</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>An access token that can be used to make API calls on behalf of this user</p>
</div>
</p>
<div class="">
<a href="/docs/graph-api/using-graph-api/#fields" target="blank"><span class="">Default</span></a>
</div>
</td>
</tr></tbody></table>
</div>
</p><p><h4><code>paging</code></h4>For more details about pagination, see the <a href="/docs/graph-api/using-graph-api/#paging">Graph API guide</a>.</p>
</div>
<h3>Validation Rules</h3>
<div class="">
<table class=""><thead><tr><th>Error</th><th>Description</th></tr></thead><tbody><tr>
<td>
200
</td>
<td>
Permissions error
</td>
</tr><tr>
<td>
100
</td>
<td>
Invalid parameter
</td>
</tr></tbody></table>
</div>
</div>
</div>
<div class="">
<div class="">
<h2 id="Creating">Creating</h2>
<div>
<p>By publishing to this edge you can create new test users and you can assosciate existing test users with new apps.</p>
<h3>Permissions</h3>
<ul><li>An app access token is required to create new test users for an app.</li>
<li>If associating existing test users with new apps, app access tokens are required for both the app that created the test user, and the app that is being newly associated to the test user (see the <code>owner_access_token</code> parameter for more information).</li>
</ul><h3>Return values</h3>
<ul><li>The <code>login_url</code> return value can be used to log in as the test user.  The URL will expire one hour after it&#039;s generated or after it&#039;s first used.</li>
<li>The <code>access_token</code> return value is only returned when the <code>installed</code> parameter is set to <code>true</code>.</li>
</ul>
</div>
You can make a POST request to <code>accounts</code> edge from the following paths: <ul><li><a href="/docs/graph-api/reference/application/"><code>/&#123;application_id&#125;</code></a><code>/accounts</code></li></ul>
<div>
When posting to this edge, a TestAccount will be created.
</div>
<h3 class="">Parameters</h3>
<div class="">
<table class=""><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody class="" id="u_0_h"><tr class="row_0">
<td>
<span><code>installed</code></span>
<div class="">
boolean
</div>
</td>
<td>
<p>Automatically installs the app for the test user once it is created or associated</p>
</td>
</tr><tr class="row_1">
<td>
<span><code>minor</code></span>
<div class="">
boolean
</div>
</td>
<td>
<p>Is this test user a minor</p>
</td>
</tr><tr class="row_2">
<td>
<span><code>name</code></span>
<div class="">
string
</div>
</td>
<td>
<p>The name for the test user. When left blank, a random name will be automatically generated</p>
</td>
</tr><tr class="row_3">
<td>
<span><code>owner_access_token</code></span>
<div class="">
string
</div>
</td>
<td>
<p>When associating existing test users with other apps, this is the app access token of any app that is already associated with the test user. The <code>&#123;app-id&#125;</code> in the publishing request in this case should be the app that will is the target to associate with the test user. The API request should also be signed with the app access token of that target app. Required when associating test users, but should not be used when creating new test users</p>
</td>
</tr><tr class="row_4">
<td>
<span><code>permissions</code></span>
<div class="">
List&lt;Permission&gt;
</div>
</td>
<td>
<div>
Default value: <code>Set</code>
</div>
<p>List of permissions that are automatically granted for the app when it is created or associated</p>
</td>
</tr><tr class="row_5">
<td>
<span><code>type</code></span>
<div class="">
enum&#123;test-users&#125;
</div>
</td>
<td>
<p>Type</p>
</td>
</tr><tr class="row_6">
<td>
<span><code>uid</code></span>
<div class="">
int
</div>
</td>
<td>
<p>ID of an existing test user to associate with another app. Required when associating test users, but should not be used when creating new test users</p>
</td>
</tr></tbody></table>
</div>
<h3>Return Type</h3>
<div>
This endpoint supports <a href="/docs/graph-api/using-graph-api/#read-after-write">read-after-write</a> and will read the node represented by <code>id</code> in the return type.
</div>
<div class="">
 Struct  &#123;
<div class="">
<code>id</code>: numeric string, 
</div>
<div class="">
<code>access_token</code>: string, 
</div>
<div class="">
<code>login_url</code>: string, 
</div>
<div class="">
<code>email</code>: string, 
</div>
<div class="">
<code>password</code>: string, 
</div>
&#125;
</div>
<h3>Validation Rules</h3>
<div class="">
<table class=""><thead><tr><th>Error</th><th>Description</th></tr></thead><tbody><tr>
<td>
2900
</td>
<td>
Too many test accounts
</td>
</tr><tr>
<td>
100
</td>
<td>
Invalid parameter
</td>
</tr><tr>
<td>
195
</td>
<td>
The name you are trying to use is invalid
</td>
</tr></tbody></table>
</div>
</div>
</div>
<div class="">
<div class="">
<h2 id="Updating">Updating</h2>You can&#039;t perform this operation on this endpoint.
</div>
</div>
<div class="">
<div class="">
<h2 id="Deleting">Deleting</h2>
<div>
<p>You can&#039;t delete a test user using this edge.  If you want to <a href="/docs/graph-api/reference/test-user/">delete a test user use the <code>/&#123;test-user-id&#125;</code> node</a>.</p>
<p>This edge will let you disassociate a test user from an app.</p>
<h3 id="delperms">Permissions</h3>
<ul><li>The associated app access token is required to disassociate a test user.</li>
<li>A test user must still be associated with any single app after this operation, otherwise an error message (<code>2902</code>) will be shown. </li>
</ul>
</div>
You can dissociate a TestAccount from an Application by making a DELETE request to <a href="/docs/graph-api/reference/application/"><code>/&#123;application_id&#125;</code></a><code>/accounts</code>.<h3 class="">Parameters</h3>
<div class="">
<table class=""><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody class="" id="u_0_i"><tr class="row_0">
<td>
<span><code>type</code></span>
<div class="">
enum&#123;test-users&#125;
</div>
</td>
<td>
<p>Account type</p>
</td>
</tr><tr class="row_1">
<td>
<span><code>uid</code></span>
<div class="">
int
</div>
</td>
<td>
<p>Account UID</p>
<div class="">
<span class="">Required</span>
</div>
</td>
</tr></tbody></table>
</div>
<h3>Return Type</h3>
<div class="">
 Struct  &#123;
<div class="">
<code>success</code>: bool, 
</div>
&#125;
</div>
<h3>Validation Rules</h3>
<div class="">
<table class=""><thead><tr><th>Error</th><th>Description</th></tr></thead><tbody><tr>
<td>
100
</td>
<td>
Invalid parameter
</td>
</tr><tr>
<td>
2902
</td>
<td>
Cannot remove test account from this app
</td>
</tr><tr>
<td>
2901
</td>
<td>
Invalid test account id
</td>
</tr></tbody></table>
</div>
</div>
</div>
</div>



