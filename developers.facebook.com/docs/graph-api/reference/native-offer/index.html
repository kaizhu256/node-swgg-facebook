developers.facebook.com/docs/graph-api/reference/native-offer/index.html

<div class="" id="u_0_1">
<div class="">
<div>
<div class="">
<div class="">
<div class="clearfix">
<span class="lfloat"><span><span class="">Graph API Version</span></span></span>
<div class="rfloat">
<span>
<div class="">
<div class="uiPopover" id="u_0_2">
<a role="button" class="" href="#" style="max-width:200px;" aria-haspopup="true" aria-expanded="false" rel="toggle" id="u_0_3"><span class="">v2.12</span><span class=""><i class="img"></i></span></a>
</div>
<input type="hidden" autocomplete="off" name="" id="u_0_4" />
</div>
</span>
</div>
</div>
</div>
</div>
</div>
<div data-click-area="main">
<div class="">
<div class="">
<h2 id="Overview">
<div>
<p>Native Offer</p>
</div>
</h2>
</div>
</div>
<div class="">
<div class="">
<h2 id="Reading">Reading</h2><p>A <code>native offer</code> represents an Offer on Facebook.  The <code>/&#123;offer_id&#125;</code> node returns a single <code>native offer</code>.  Each <code>native offer</code> requires a <code>view</code> to be rendered to users.</p><h3>Permissions</h3>Developers usually request these permissions for this endpoint:<br /><br />Marketing Apps<ul><li><code>ads_management</code></li><li><code>manage_pages</code></li><li><code>publish_pages</code></li></ul>Page management Apps
<div class="">
No data
</div>
Other Apps
<div class="">
No data
</div>
<div>
<h3>Example</h3>
<div class="">
<div class="" id="u_0_5">
<button value="1" class="selected" type="submit" id="u_0_6">HTTP</button><button value="1" class="selected" type="submit" id="u_0_7">PHP SDK</button><button value="1" class="selected" type="submit" id="u_0_8">JavaScript SDK</button><button value="1" class="selected" type="submit" id="u_0_9">Android SDK</button><button value="1" class="selected" type="submit" id="u_0_a">iOS SDK</button><a role="button" class="selected" href="/tools/explorer/145634995501895/?method=GET&amp;path=%7Bnative-offer-id%7D&amp;version=v2.12" target="_blank">Graph API Explorer<i class="img"></i></a>
</div>
<div class="">
<pre class="prettyprint lang-regex" id="u_0_b"><code>GET /v2.12/&#123;native-offer-id&#125; HTTP/1.1
Host: graph.facebook.com</code></pre><pre class="prettyprint lang-cpp" id="u_0_c"><code>/* PHP SDK v5.0.0 */
/* make the API call */
try &#123;
  // Returns a `Facebook\FacebookResponse` object
  $response = $fb-&gt;get(
    &#039;/&#123;native-offer-id&#125;&#039;,
    &#039;&#123;access-token&#125;&#039;
  );
&#125; catch(Facebook\Exceptions\FacebookResponseException $e) &#123;
  echo &#039;Graph returned an error: &#039; . $e-&gt;getMessage();
  exit;
&#125; catch(Facebook\Exceptions\FacebookSDKException $e) &#123;
  echo &#039;Facebook SDK returned an error: &#039; . $e-&gt;getMessage();
  exit;
&#125;
$graphNode = $response-&gt;getGraphNode();
/* handle the result */</code></pre><pre class="prettyprint lang-js" id="u_0_d"><code>/* make the API call */
FB.api(
    &quot;/&#123;native-offer-id&#125;&quot;,
    function (response) &#123;
      if (response &amp;&amp; !response.error) &#123;
        /* handle the result */
      &#125;
    &#125;
);</code></pre><pre class="prettyprint lang-java" id="u_0_e"><code>/* make the API call */
new GraphRequest(
    AccessToken.getCurrentAccessToken(),
    &quot;/&#123;native-offer-id&#125;&quot;,
    null,
    HttpMethod.GET,
    new GraphRequest.Callback() &#123;
        public void onCompleted(GraphResponse response) &#123;
            /* handle the result */
        &#125;
    &#125;
).executeAsync();</code></pre><pre class="prettyprint lang-m" id="u_0_f"><code>// For more complex open graph stories, use `FBSDKShareAPI`
// with `FBSDKShareOpenGraphContent`
/* make the API call */
FBSDKGraphRequest *request = [[FBSDKGraphRequest alloc]
                               initWithGraphPath:&#064;&quot;/&#123;native-offer-id&#125;&quot;
                                      parameters:params
                                      HTTPMethod:&#064;&quot;GET&quot;];
[request startWithCompletionHandler:^(FBSDKGraphRequestConnection *connection,
                                      id result,
                                      NSError *error) &#123;
    // Handle the result
&#125;];</code></pre>
</div>
</div>
If you want to learn how to use the Graph API, read our <a href="/docs/graph-api/using-graph-api/">Using Graph API guide</a>.
</div>
<h3>Parameters</h3>
<div>
This endpoint doesn&#039;t have any parameters.
</div>
<h3>Fields</h3>
<div class="">
<table class=""><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr>
<td>
<div>
<p class=""><span><code>id</code></span></p>
</div>
<div class="">
<span>numeric string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>The id of the native offer.</p>
</div>
</p>
<div class="">
<a href="/docs/graph-api/using-graph-api/#fields" target="blank"><span class="">Default</span></a>
</div>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>barcode_photo</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>Barcode image ID for in-store redemption.</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>barcode_photo_uri</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>Barcode image URI for in-store redemption.</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>barcode_type</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>Barcode type for in-store redemption.</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>barcode_value</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>Barcode value for in-store redemption.</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>details</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>Additional primary text describing the native offer.</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>disable_location</code></span></p>
</div>
<div class="">
<span>bool</span>
</div>
</td>
<td>
<p class="">
<div>
<p>Whether or not the location features, such as the map and nearby notification, are disabled.</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>discounts</code></span></p>
</div>
<div class="">
<span>list&lt;NativeOfferDiscount&gt;</span>
</div>
</td>
<td>
<p class="">
<div>
<p>A structured representation of each part of the deal.</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>expiration_time</code></span></p>
</div>
<div class="">
<span>datetime</span>
</div>
</td>
<td>
<p class="">
<div>
<p>The time when the native offer expires, as a UNIX timestamp. After this time, the native offer will not be available for users to save.</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>instore_code</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>The code used to redeem the native offer in-store.</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>location_type</code></span></p>
</div>
<div class="">
<span>enum</span>
</div>
</td>
<td>
<p class="">
<div>
<p>Where the offer may be redeemed. Valid values are <code>online</code>, <code>offline</code>, and <code>both</code>.</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>max_save_count</code></span></p>
</div>
<div class="">
<span>integer</span>
</div>
</td>
<td>
<p class="">
<div>
<p>The maximum number of users who may save the native offer. A value of 0 means an unlimited number of saves are allowed.</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>online_code</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>The code used to redeem the native offer online.</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>page</code></span></p>
</div>
<div class="">
<a href="/docs/graph-api/reference/page/">Page</a>
</div>
</td>
<td>
<p class="">
<div>
<p>The id of the page that owns the native offer.</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>page_set_id</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>The ID of Place Page Set which represents the locations where this in-store offer is valid for.</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>redemption_link</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>The URL where the native offer may be redeemed.</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>save_count</code></span></p>
</div>
<div class="">
<span>integer</span>
</div>
</td>
<td>
<p class="">
<div>
<p>Number of users who have saved the native offer.</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>terms</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>Limitations, terms and conditions on the use of the native offer.</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>title</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>The title of the native offer</p>
</div>
</p>
<div class="">
<a href="/docs/graph-api/using-graph-api/#fields" target="blank"><span class="">Default</span></a>
</div>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>total_unique_codes</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>Number of the unique codes/barcodes uploaded</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>unique_codes</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>The fileId of the unique codes/barcodes file</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>unique_codes_file_code_type</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>Code type of the unique codes/barcodes uploaded</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>unique_codes_file_name</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>Name of the unique codes/barcodes uploaded</p>
</div>
</p>
</td>
</tr><tr>
<td>
<div>
<p class=""><span><code>unique_codes_file_upload_status</code></span></p>
</div>
<div class="">
<span>string</span>
</div>
</td>
<td>
<p class="">
<div>
<p>The uploaded status of the unique codes/barcodes file</p>
</div>
</p>
</td>
</tr></tbody></table>
</div>
<h3>Edges</h3>
<div class="">
<table class=""><thead><tr><th>Edge</th><th>Description</th></tr></thead><tbody class=""><tr>
<td>
<p class=""><a href="/docs/graph-api/reference/native-offer/views/"><code>views</code></a></p>
</td>
<td>
<p class=""><p>Multiple creative views of this native offer.</p></p>
</td>
</tr></tbody></table>
</div>
<h3>Validation Rules</h3>
<div class="">
<table class=""><thead><tr><th>Error</th><th>Description</th></tr></thead><tbody><tr>
<td>
200
</td>
<td>
Permissions error
</td>
</tr><tr>
<td>
262
</td>
<td>
Incorrect permission to publish pages
</td>
</tr></tbody></table>
</div>
</div>
</div>
<div class="">
<div class="">
<h2 id="Creating">Creating</h2>
<div class="">
You can make a POST request to <code>nativeoffers</code> edge from the following paths: <ul><li><a href="/docs/graph-api/reference/page/"><code>/&#123;page_id&#125;</code></a><code>/nativeoffers</code></li></ul>
<div>
When posting to this edge, a NativeOffer will be created.
</div>
<h3 class="">Parameters</h3>
<div class="">
<table class=""><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody class="" id="u_0_g"><tr class="row_0">
<td>
<span><code>barcode_type</code></span>
<div class="">
enum &#123;CODE128, CODE128B, CODE93, DATABAR, DATABAR_EXPANDED, DATABAR_EXPANDED_STACKED, DATABAR_LIMITED, DATAMATRIX, EAN, PDF417, QR, UPC_A, UPC_E&#125;
</div>
</td>
<td>
<p>Barcode type for in-store offers.</p>
</td>
</tr><tr class="row_1">
<td>
<span><code>barcode_value</code></span>
<div class="">
string
</div>
</td>
<td>
<p>Barcode value for in-store offers.</p>
</td>
</tr><tr class="row_2">
<td>
<span><code>details</code></span>
<div class="">
UTF-8 encoded string
</div>
</td>
<td>
<p>Additional primary text describing the native offer.</p>
<div class="">
<span class="">Required</span>
</div>
</td>
</tr><tr class="row_3">
<td>
<span><code>disable_location</code></span>
<div class="">
boolean
</div>
</td>
<td>
<p>Whether or not to disable location features, such as the map and nearby notification.</p>
</td>
</tr><tr class="row_4">
<td>
<span><code>discounts</code></span>
<div class="">
list&lt;Object&gt;
</div>
</td>
<td>
<p>An array of OfferDiscount objects.</p>
<div class="">
<span class="">Required</span>
</div>
</td>
</tr><tr class="row_4-0 hidden_elem">
<td class="devsiteReferenceTableRowLevel1">
<span><code>type</code></span>
<div class="">
enum &#123;percentage_off, free_stuff, cash_discount, bogo&#125;
</div>
</td>
<td>
<div class="">
<span class="">Required</span>
</div>
</td>
</tr><tr class="row_4-1 hidden_elem">
<td class="devsiteReferenceTableRowLevel1">
<span><code>text</code></span>
<div class="">
string
</div>
</td>
<td>
</td>
</tr><tr class="row_4-2 hidden_elem">
<td class="devsiteReferenceTableRowLevel1">
<span><code>value1</code></span>
<div class="">
float
</div>
</td>
<td>
</td>
</tr><tr class="row_4-3 hidden_elem">
<td class="devsiteReferenceTableRowLevel1">
<span><code>value2</code></span>
<div class="">
float
</div>
</td>
<td>
</td>
</tr><tr class="row_4-4 hidden_elem">
<td class="devsiteReferenceTableRowLevel1">
<span><code>currency</code></span>
<div class="">
ISO 4217 Currency Code
</div>
</td>
<td>
</td>
</tr><tr class="row_4-5 hidden_elem">
<td class="devsiteReferenceTableRowLevel1">
<span><code>override</code></span>
<div class="">
string
</div>
</td>
<td>
<div>
Default value: <code></code>
</div>
</td>
</tr><tr class="row_5">
<td>
<span><code>expiration_time</code></span>
<div class="">
datetime
</div>
</td>
<td>
<p>The unix time representing when the offer expires.</p>
<div class="">
<span class="">Required</span>
</div>
</td>
</tr><tr class="row_6">
<td>
<span><code>instore_code</code></span>
<div class="">
string
</div>
</td>
<td>
<p>The code used to redeem the native offer in-store. This code should not contain any spaces.</p>
</td>
</tr><tr class="row_7">
<td>
<span><code>location_type</code></span>
<div class="">
enum &#123;online, offline, both&#125;
</div>
</td>
<td>
<div>
Default value: <code>online</code>
</div>
<p>A OfferAvailabilityLocation enum value.</p>
</td>
</tr><tr class="row_8">
<td>
<span><code>max_save_count</code></span>
<div class="">
int64
</div>
</td>
<td>
<div>
Default value: <code>0</code>
</div>
<p>Maximum number of allowed saves, 0 is unlimited.</p>
</td>
</tr><tr class="row_9">
<td>
<span><code>online_code</code></span>
<div class="">
string
</div>
</td>
<td>
<p>The code used to redeem the native offer online. This code should not contain any spaces.</p>
</td>
</tr><tr class="row_10">
<td>
<span><code>page_set_id</code></span>
<div class="">
numeric string or integer
</div>
</td>
<td>
<p>The ID of Place Page Set which represents the locations where this in-store offer is valid for.</p>
</td>
</tr><tr class="row_11">
<td>
<span><code>redemption_link</code></span>
<div class="">
URL
</div>
</td>
<td>
<p>The URL to the site where a user can redeem the offer.</p>
</td>
</tr><tr class="row_12">
<td>
<span><code>terms</code></span>
<div class="">
UTF-8 encoded string
</div>
</td>
<td>
<p>Limitations, terms and conditions on the use of the native offer.</p>
</td>
</tr></tbody></table>
</div>
<h3>Return Type</h3>
<div>
This endpoint supports <a href="/docs/graph-api/using-graph-api/#read-after-write">read-after-write</a> and will read the node represented by <code>id</code> in the return type.
</div>
<div class="">
 Struct  &#123;
<div class="">
<code>id</code>: numeric string, 
</div>
&#125;
</div>
<div class="">
</div>
You can make a POST request to <code>nativeofferviews</code> edge from the following paths: <ul><li><a href="/docs/graph-api/reference/native-offer/"><code>/&#123;native_offer_id&#125;</code></a><code>/nativeofferviews</code></li></ul>
<div>
When posting to this edge, a NativeOffer will be created.
</div>
<h3 class="">Parameters</h3>
<div class="">
<table class=""><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody class="" id="u_0_h"><tr class="row_0">
<td>
<span><code>ad_account</code></span>
<div class="">
numeric string or integer
</div>
</td>
<td>
<p>Optional ID of an ad account, matched to the ad_image_hashes.</p>
</td>
</tr><tr class="row_1">
<td>
<span><code>ad_image_hashes</code></span>
<div class="">
list&lt;string&gt;
</div>
</td>
<td>
<p>Optional array of ad image hashes, matched to the ad_account. Only one of ad_image_hashes, photos, urls, and multipart attachments should be specified.</p>
</td>
</tr><tr class="row_2">
<td>
<span><code>carousel_captions</code></span>
<div class="">
list&lt;string&gt;
</div>
</td>
<td>
<p>Optional array of strings to be used as carousel captions.Makes carousel_links a required field; the number of items in each array must also match.</p>
</td>
</tr><tr class="row_3">
<td>
<span><code>carousel_links</code></span>
<div class="">
list&lt;string&gt;
</div>
</td>
<td>
<p>Optional array of urls to be used as carousel captions.Makes carousel_captions a required field; the number of items in each array must also match.</p>
</td>
</tr><tr class="row_4">
<td>
<span><code>image_crops</code></span>
<div class="">
list&lt;dictionary &#123; enum&#123;191x100, 100x72, 400x150, 600x360, 100x100, 400x500, 90x160&#125; : &lt;list&lt;list&lt;int64&gt;&gt;&gt; &#125;&gt;
</div>
</td>
<td>
<p>Optional array of image crop parameters</p>
</td>
</tr><tr class="row_5">
<td>
<span><code>message</code></span>
<div class="">
string
</div>
</td>
<td>
<p>The main body of the post, otherwise called the status message. Required if either published_ads or published is true.</p>
</td>
</tr><tr class="row_6">
<td>
<span><code>photos</code></span>
<div class="">
list&lt;numeric string or integer&gt;
</div>
</td>
<td>
<p>Optional array containing IDs of existing Photo objects. Only one of ad_image_hashes, photos, urls, and multipart attachments should be specified.</p>
</td>
</tr><tr class="row_7">
<td>
<span><code>published</code></span>
<div class="">
boolean
</div>
</td>
<td>
<p>Whether to create and show a story about this native offer view. Only one of published_ads and published should be specified.</p>
</td>
</tr><tr class="row_8">
<td>
<span><code>published_ads</code></span>
<div class="">
boolean
</div>
</td>
<td>
<p>Whether to create a story for use in ads. Only one of published_ads and published should be specified.</p>
</td>
</tr><tr class="row_9">
<td>
<span><code>urls</code></span>
<div class="">
list&lt;URL&gt;
</div>
</td>
<td>
<p>Optional array of URLs for publicly accessible photos.Only one of ad_image_hashes, photos, urls, and multipart attachments should be specified.</p>
</td>
</tr><tr class="row_10">
<td>
<span><code>videos</code></span>
<div class="">
list&lt;numeric string or integer&gt;
</div>
</td>
<td>
<p>Optional array of IDs for videos already owned by the page. Currently only one video is allowed per view.</p>
</td>
</tr></tbody></table>
</div>
<h3>Return Type</h3>
<div>
This endpoint supports <a href="/docs/graph-api/using-graph-api/#read-after-write">read-after-write</a> and will read the node to which you POSTed.
</div>
<div class="">
 Struct  &#123;
<div class="">
<code>success</code>: bool, 
</div>
<div class="">
<code>native_offer_view</code>: numeric string, 
</div>
<div class="">
<code>post</code>: numeric string, 
</div>
<div class="">
<code>photos</code>:  List  [
<div class="">
numeric string
</div>
], 
</div>
<div class="">
<code>videos</code>:  List  [
<div class="">
numeric string
</div>
], 
</div>
&#125;
</div>
<div class="">
</div>
You can make a POST request to <code>codes</code> edge from the following paths: <ul><li><a href="/docs/graph-api/reference/native-offer/"><code>/&#123;native_offer_id&#125;</code></a><code>/codes</code></li></ul>
<div>
When posting to this edge, a NativeOffer will be created.
</div>
<h3 class="">Parameters</h3>
<div class="">
<table class=""><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody class="" id="u_0_i"><tr class="row_0">
<td>
<span><code>file</code></span>
<div class="">
file
</div>
</td>
<td>
<p>A <code>csv</code>/<code>txt</code> formatted file that contains unique offer codes. Each code can be claimed by a single user. The file needs to follow a few rules: 1) One unique code per line,  2) 20 or less characters per code with no spaces,  3) Only letters, numbers, dashes or underscores allowed, 4) Up to 10,000 unique codes per file</p>
</td>
</tr><tr class="row_1">
<td>
<span><code>unique_codes_file_code_type</code></span>
<div class="">
enum &#123;discount_codes, barcodes, online_discount_codes, instore_discount_codes, instore_barcodes, discount_and_barcodes, discount_and_discount&#125;
</div>
</td>
<td>
<div>
Default value: <code>discount_codes</code>
</div>
<p>The type of file being uploaded</p>
</td>
</tr></tbody></table>
</div>
<h3>Return Type</h3>
<div>
This endpoint supports <a href="/docs/graph-api/using-graph-api/#read-after-write">read-after-write</a> and will read the node to which you POSTed.
</div>
<div class="">
 Struct  &#123;
<div class="">
<code>success</code>: bool, 
</div>
&#125;
</div>
<div class="">
</div>
<h3>Validation Rules</h3>
<div class="">
<table class=""><thead><tr><th>Error</th><th>Description</th></tr></thead><tbody><tr>
<td>
100
</td>
<td>
Invalid parameter
</td>
</tr></tbody></table>
</div>
</div>
</div>
</div>
<div class="">
<div class="">
<h2 id="Updating">Updating</h2>You can&#039;t perform this operation on this endpoint.
</div>
</div>
<div class="">
<div class="">
<h2 id="Deleting">Deleting</h2>You can&#039;t perform this operation on this endpoint.
</div>
</div>
</div>



